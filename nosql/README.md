# DB - cassandra + memcached

В Django проекте DB реализовано кэширование в memcached и работа с постоянной базой данных (Cassandra).
Приложение обрабатывает два POST запроса: на постановку лайка и на получение информации о количестве лайков.

## Постановка лайка

POST запрос на URL: /db/like с одним параметром post_id.
При постановке лайка производится попытка инкрементации счетчика по ключу post_id в memcache. Если операция инкрементации по ключу в memcache завершается успешно, то происходит инкрементация счетчика и в основной базе. При неудаче (cache miss) происходит обращение в основную базу. Если запись с заданным post_id присутствует в базе, то счетчик в основной базе инкрементируется и информайия о посте заносится в кэш. если записи не существует, то она создается со значением счетчика равным 1 и заносится в кэш.

## Получение информации о количестве лайков

POST запрос на URL: /db/get с одним параметром post_id.
Сначала проверяем наличие записи в memcache. В случае cache miss обращаемся в основную базу. Если удается найти запись в базе, то заносим ее в кэш, иначе возращаем информацию о том, что запись не найдена.
